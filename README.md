# C++ Web Server for Nott Course

Find more about the project: [EricWay1024/nott-course: React app of an unofficial enhancement of the course catalogue offered by University of Nottingham](https://github.com/EricWay1024/nott-course).

## Built With

- [CrowCpp/Crow: A Fast and Easy to use microframework for the web.](https://github.com/CrowCpp/Crow)

- [SRombauts/SQLiteCpp: SQLiteC++ (SQLiteCpp) is a smart and easy to use C++ SQLite3 wrapper.](https://github.com/SRombauts/SQLiteCpp)

## Getting Started

All commands tested on Debian Bullseye.

Clone this repo. Note that 
`SQLiteCpp` is included as a submodule of this repo.

```bash
git clone --recurse-submodules https://github.com/EricWay1024/nott-course-server-cpp.git
```

Install `Crow`.

```bash
sudo apt-get install build-essential libboost-all-dev
wget https://github.com/CrowCpp/Crow/releases/download/v1.0%2B3/crow-v1.0+3.deb
sudo apt install ./crow-v1.0+3.deb
rm ./crow-v1.0+3.deb
```

## Building and Running

```bash
mkdir build
cd build
cmake ..
cmake --build .
wget https://github.com/EricWay1024/nottCrawlerNew/releases/latest/download/data.db
./nottCourseServer &
```

## Database Specification

`data.db` is generated by the crawler [here](https://github.com/EricWay1024/nottCrawlerNew).
`data.db` is a SQLite database with two tables: `course` and `plan`. All fields in both tables are stored as text, but some fields are stringified JSON objects. Check [the schemas here](https://github.com/EricWay1024/nottCrawlerNew/tree/master/schemas). 
